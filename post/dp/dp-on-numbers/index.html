<!doctype html><html lang=zh-cn><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1"><meta name=referrer content="no-referrer-when-downgrade"><title>数位型动态规划 | PigAunt的博客</title><meta property="og:title" content="数位型动态规划 - PigAunt的博客"><meta property="og:type" content="article"><meta property="article:published_time" content="2021-10-18T10:50:50+08:00"><meta property="article:modified_time" content="2021-10-18T10:50:50+08:00"><meta name=Keywords content="C++,OI,C#"><meta name=description content="数位型动态规划"><meta name=author content="PigAunt"><meta property="og:url" content="https://www.pigaunt.top/post/dp/dp-on-numbers/"><link rel="shortcut icon" href=/favicon.ico type=image/x-icon><link rel=stylesheet href=/css/normalize.css><link rel=stylesheet href=/css/style.css><script type=text/javascript src=//cdn.bootcdn.net/ajax/libs/jquery/3.4.1/jquery.min.js></script><link rel=stylesheet href=/css/douban.css><link rel=stylesheet href=/css/other.css></head><body><header id=header class=clearfix><div class=container><div class=col-group><div class=site-name><a id=logo href=https://www.pigaunt.top>PigAunt的博客</a><p class=description>Hello, World!</p></div><div><nav id=nav-menu class=clearfix><a class=current href=https://www.pigaunt.top>首页</a>
<a href=https://www.pigaunt.top/archives/ title=归档>归档</a>
<a href=https://www.pigaunt.top/about/ title=关于>关于</a></nav></div></div></div></header><div id=body><div class=container><div class=col-group><div class=col-8 id=main><div class=res-cons><article class=post><header><h1 class=post-title>数位型动态规划</h1></header><date class="post-meta meta-date">2021年10月18日</date><div class=post-meta><span>|</span>
<span class=meta-category><a href=/categories/%E5%8A%A8%E6%80%81%E8%A7%84%E5%88%92>动态规划</a></span></div><div class=post-meta><span id=busuanzi_container_page_pv>|<span id=busuanzi_value_page_pv></span><span>
阅读</span></span></div><div class=post-content><h1 id=数位型动态规划>数位型动态规划</h1><h2 id=问题简介>问题简介</h2><p>此类问题一般是求在一个特定范围内满足某种特殊性质的数的数量，也有求其它信息的类型。数位型动态规划做法基本类似，大多是预处理-按位枚举范围中的数-计数。</p><h2 id=技巧>技巧</h2><ol><li>区间转换$[m, n] \Rightarrow f_n - f_{m - 1}$</li><li>按位枚举数时先考虑该位小于最高位，再考虑相等的情况（就像一棵二叉树）。</li></ol><p>对于技巧2，枚举时的基本模板如下（不能处理去除前导0的情况）</p><div class=highlight><div style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 1
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 2
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 3
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 4
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 5
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 6
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 7
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 8
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 9
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">10
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">11
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">12
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">13
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">14
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">15
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">16
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">17
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">18
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">19
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">20
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">21
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">22
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">23
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">24
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">25
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-cpp data-lang=cpp><span style=color:#8be9fd>int</span> <span style=color:#50fa7b>Dp</span>(<span style=color:#8be9fd>int</span> n)
{
    <span style=color:#ff79c6>if</span> (n <span style=color:#ff79c6>==</span> <span style=color:#bd93f9>0</span>)
        <span style=color:#ff79c6>return</span> <span style=color:#bd93f9>0</span>; <span style=color:#6272a4>// 视具体情况而定
</span><span style=color:#6272a4></span>    
    std<span style=color:#ff79c6>::</span>vector<span style=color:#ff79c6>&lt;</span><span style=color:#8be9fd>int</span><span style=color:#ff79c6>&gt;</span> nums;
    <span style=color:#ff79c6>while</span> (n <span style=color:#ff79c6>&gt;</span> <span style=color:#bd93f9>0</span>)
    {
        nums.push_back(n <span style=color:#ff79c6>%</span> <span style=color:#bd93f9>10</span>); <span style=color:#6272a4>// 模的数视具体情况而定
</span><span style=color:#6272a4></span>        n <span style=color:#ff79c6>/=</span> <span style=color:#bd93f9>10</span>; <span style=color:#6272a4>// 同上
</span><span style=color:#6272a4></span>    }

    <span style=color:#8be9fd>int</span> res <span style=color:#ff79c6>=</span> <span style=color:#bd93f9>0</span>, last <span style=color:#ff79c6>=</span> <span style=color:#bd93f9>0</span>; <span style=color:#6272a4>// 枚举相等的情况时，可能需要记录上一个数来判断满足的性质
</span><span style=color:#6272a4></span>    <span style=color:#ff79c6>for</span> (<span style=color:#8be9fd>int</span> i <span style=color:#ff79c6>=</span> nums.size() <span style=color:#ff79c6>-</span> <span style=color:#bd93f9>1</span>; i <span style=color:#ff79c6>&gt;=</span> <span style=color:#bd93f9>0</span>; i<span style=color:#ff79c6>--</span>)
    {
        <span style=color:#8be9fd>int</span> x <span style=color:#ff79c6>=</span> nums[i];
        <span style=color:#ff79c6>for</span> (<span style=color:#8be9fd>int</span> j <span style=color:#ff79c6>=</span> <span style=color:#bd93f9>0</span>; j <span style=color:#ff79c6>&lt;</span> x; j<span style=color:#ff79c6>++</span>)
        {
            <span style=color:#ff79c6>if</span> (...) <span style=color:#6272a4>// 满足条件，可能有多级
</span><span style=color:#6272a4></span>            {
                res <span style=color:#ff79c6>+=</span> f[...][...]; <span style=color:#6272a4>// 加上预处理的数
</span><span style=color:#6272a4></span>            }
        }
    }
}
</code></pre></td></tr></table></div></div><h2 id=例题>例题</h2><h3 id=libreoj-10163-amount-of-degreeshttpslojacp10163><a href=https://loj.ac/p/10163>LibreOJ-10163-Amount of Degrees</a></h3><p>如果把这个数表示成B进制，问题就转化成了这个数的B进制下是否有K个1，而$i$位数中有$j$个1的数的数量正好是$i \choose j$。</p><p>首先要确定的是，本题的方案数仅仅和整个数中的1有关，因此我们不用循环，只需要判断等于0、等于1和大于1。</p><p>要求$0$到$n$中满足条件的数的个数$res$，先预处理出$i \choose j$，然后按位枚举$n$，枚举时记录$n$中1的个数$count$。如果这一位数是0，就到下一位去处理；如果这一位数是1，先让$res$加上预处理的数，再让$count$加一；如果这一位大于1，这一位后面的满足条件的数的个数就可以直接用预处理找到；最后由于$n$本身没有记录，如果满足条件，就让$res$加一。</p><div class=highlight><div style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 1
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 2
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 3
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 4
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 5
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 6
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 7
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 8
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 9
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">10
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">11
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">12
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">13
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">14
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">15
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">16
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">17
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">18
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">19
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">20
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">21
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">22
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">23
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">24
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">25
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">26
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">27
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">28
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">29
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">30
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">31
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">32
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">33
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">34
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">35
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">36
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">37
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">38
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">39
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">40
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">41
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">42
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">43
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">44
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">45
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">46
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">47
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">48
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">49
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">50
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">51
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">52
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">53
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">54
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">55
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">56
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">57
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">58
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">59
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">60
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">61
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">62
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">63
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">64
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">65
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">66
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">67
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-cpp data-lang=cpp><span style=color:#ff79c6>#include</span> <span style=color:#ff79c6>&lt;iostream&gt;</span><span style=color:#ff79c6>
</span><span style=color:#ff79c6>#include</span> <span style=color:#ff79c6>&lt;vector&gt;</span><span style=color:#ff79c6>
</span><span style=color:#ff79c6></span>
<span style=color:#ff79c6>const</span> <span style=color:#8be9fd>int</span> N <span style=color:#ff79c6>=</span> <span style=color:#bd93f9>33</span>, K <span style=color:#ff79c6>=</span> <span style=color:#bd93f9>23</span>;

<span style=color:#8be9fd>int</span> x, y, k, b;
<span style=color:#8be9fd>int</span> f[N][K];

<span style=color:#8be9fd>void</span> <span style=color:#50fa7b>Init</span>()
{
    <span style=color:#ff79c6>for</span> (<span style=color:#8be9fd>int</span> i <span style=color:#ff79c6>=</span> <span style=color:#bd93f9>0</span>; i <span style=color:#ff79c6>&lt;</span> N; i<span style=color:#ff79c6>++</span>)
        <span style=color:#ff79c6>for</span> (<span style=color:#8be9fd>int</span> j <span style=color:#ff79c6>=</span> <span style=color:#bd93f9>0</span>; j <span style=color:#ff79c6>&lt;=</span> i; j<span style=color:#ff79c6>++</span>)
        {
            <span style=color:#ff79c6>if</span> (j <span style=color:#ff79c6>==</span> <span style=color:#bd93f9>0</span>)
                f[i][j] <span style=color:#ff79c6>=</span> <span style=color:#bd93f9>1</span>;
            <span style=color:#ff79c6>else</span>
                f[i][j] <span style=color:#ff79c6>=</span> f[i <span style=color:#ff79c6>-</span> <span style=color:#bd93f9>1</span>][j] <span style=color:#ff79c6>+</span> f[i <span style=color:#ff79c6>-</span> <span style=color:#bd93f9>1</span>][j <span style=color:#ff79c6>-</span> <span style=color:#bd93f9>1</span>];
        }
}

<span style=color:#8be9fd>int</span> <span style=color:#50fa7b>Dp</span>(<span style=color:#8be9fd>int</span> n)
{
    <span style=color:#ff79c6>if</span> (n <span style=color:#ff79c6>==</span> <span style=color:#bd93f9>0</span>)
        <span style=color:#ff79c6>return</span> <span style=color:#bd93f9>0</span>;

    std<span style=color:#ff79c6>::</span>vector<span style=color:#ff79c6>&lt;</span><span style=color:#8be9fd>int</span><span style=color:#ff79c6>&gt;</span> nums;
    <span style=color:#ff79c6>while</span> (n <span style=color:#ff79c6>&gt;</span> <span style=color:#bd93f9>0</span>)
    {
        nums.push_back(n <span style=color:#ff79c6>%</span> b);
        n <span style=color:#ff79c6>/=</span> b;
    }

    <span style=color:#8be9fd>int</span> res <span style=color:#ff79c6>=</span> <span style=color:#bd93f9>0</span>, count <span style=color:#ff79c6>=</span> <span style=color:#bd93f9>0</span>;
    <span style=color:#ff79c6>for</span> (<span style=color:#8be9fd>int</span> i <span style=color:#ff79c6>=</span> nums.size() <span style=color:#ff79c6>-</span> <span style=color:#bd93f9>1</span>; i <span style=color:#ff79c6>&gt;=</span> <span style=color:#bd93f9>0</span>; i<span style=color:#ff79c6>--</span>)
    {
        <span style=color:#8be9fd>int</span> x <span style=color:#ff79c6>=</span> nums[i];
        <span style=color:#ff79c6>if</span> (x <span style=color:#ff79c6>&gt;</span> <span style=color:#bd93f9>0</span>)
        {
            res <span style=color:#ff79c6>+=</span> f[i][k <span style=color:#ff79c6>-</span> count];
            <span style=color:#ff79c6>if</span> (x <span style=color:#ff79c6>&gt;</span> <span style=color:#bd93f9>1</span>)
            {
                <span style=color:#ff79c6>if</span> (k <span style=color:#ff79c6>-</span> count <span style=color:#ff79c6>-</span> <span style=color:#bd93f9>1</span> <span style=color:#ff79c6>&gt;=</span> <span style=color:#bd93f9>0</span>)
                    res <span style=color:#ff79c6>+=</span> f[i][k <span style=color:#ff79c6>-</span> count <span style=color:#ff79c6>-</span> <span style=color:#bd93f9>1</span>];
                <span style=color:#ff79c6>break</span>;
            }
            <span style=color:#ff79c6>else</span>
            {
                count<span style=color:#ff79c6>++</span>;
                <span style=color:#ff79c6>if</span> (count <span style=color:#ff79c6>&gt;</span> k)
                    <span style=color:#ff79c6>break</span>;
            }
        }

        <span style=color:#ff79c6>if</span> (i <span style=color:#ff79c6>==</span> <span style=color:#bd93f9>0</span> <span style=color:#ff79c6>&amp;&amp;</span> count <span style=color:#ff79c6>==</span> k)
            res<span style=color:#ff79c6>++</span>;
    }

    <span style=color:#ff79c6>return</span> res;
}

<span style=color:#8be9fd>int</span> <span style=color:#50fa7b>main</span>()
{
    std<span style=color:#ff79c6>::</span>cin <span style=color:#ff79c6>&gt;&gt;</span> x <span style=color:#ff79c6>&gt;&gt;</span> y <span style=color:#ff79c6>&gt;&gt;</span> k <span style=color:#ff79c6>&gt;&gt;</span> b;
    Init();
    std<span style=color:#ff79c6>::</span>cout <span style=color:#ff79c6>&lt;&lt;</span> Dp(y) <span style=color:#ff79c6>-</span> Dp(x <span style=color:#ff79c6>-</span> <span style=color:#bd93f9>1</span>) <span style=color:#ff79c6>&lt;&lt;</span> std<span style=color:#ff79c6>::</span>endl;
    <span style=color:#ff79c6>return</span> <span style=color:#bd93f9>0</span>;
}
</code></pre></td></tr></table></div></div><h3 id=libreoj-10164-数字游戏httpslojacp10164><a href=https://loj.ac/p/10164>LibreOJ-10164-数字游戏</a></h3><p>预处理：用$f_{i, j}$表示有$i$位，且第一位是$j$的不降数的个数。$f_{i, j} = \sum f_{i - 1, k} (j \ge k)$。</p><p>求$1$到$n$满足条件的数的数量时，枚举每一位$x$并记录上一位$last$，先找到数$j$使$last \le j &lt; x$并加上预处理的答案，然后考虑$j = x$的情况（进入下一位）。但要注意，如果$n$本身再某一位不满足不降数了，就不必再进行枚举。</p><div class=highlight><div style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 1
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 2
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 3
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 4
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 5
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 6
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 7
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 8
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 9
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">10
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">11
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">12
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">13
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">14
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">15
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">16
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">17
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">18
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">19
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">20
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">21
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">22
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">23
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">24
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">25
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">26
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">27
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">28
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">29
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">30
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">31
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">32
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">33
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">34
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">35
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">36
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">37
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">38
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">39
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">40
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">41
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">42
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">43
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">44
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">45
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">46
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">47
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">48
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">49
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">50
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">51
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">52
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">53
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">54
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">55
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">56
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">57
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">58
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-cpp data-lang=cpp><span style=color:#ff79c6>#include</span> <span style=color:#ff79c6>&lt;iostream&gt;</span><span style=color:#ff79c6>
</span><span style=color:#ff79c6>#include</span> <span style=color:#ff79c6>&lt;vector&gt;</span><span style=color:#ff79c6>
</span><span style=color:#ff79c6></span>
<span style=color:#ff79c6>const</span> <span style=color:#8be9fd>int</span> N <span style=color:#ff79c6>=</span> <span style=color:#bd93f9>15</span>;

<span style=color:#8be9fd>int</span> f[N][<span style=color:#bd93f9>10</span>];

<span style=color:#8be9fd>void</span> <span style=color:#50fa7b>Init</span>()
{
    <span style=color:#ff79c6>for</span> (<span style=color:#8be9fd>int</span> i <span style=color:#ff79c6>=</span> <span style=color:#bd93f9>0</span>; i <span style=color:#ff79c6>&lt;=</span> <span style=color:#bd93f9>9</span>; i<span style=color:#ff79c6>++</span>)
        f[<span style=color:#bd93f9>1</span>][i] <span style=color:#ff79c6>=</span> <span style=color:#bd93f9>1</span>;

    <span style=color:#ff79c6>for</span> (<span style=color:#8be9fd>int</span> i <span style=color:#ff79c6>=</span> <span style=color:#bd93f9>2</span>; i <span style=color:#ff79c6>&lt;</span> N; i<span style=color:#ff79c6>++</span>)
        <span style=color:#ff79c6>for</span> (<span style=color:#8be9fd>int</span> j <span style=color:#ff79c6>=</span> <span style=color:#bd93f9>0</span>; j <span style=color:#ff79c6>&lt;=</span> <span style=color:#bd93f9>9</span>; j<span style=color:#ff79c6>++</span>)
            <span style=color:#ff79c6>for</span> (<span style=color:#8be9fd>int</span> k <span style=color:#ff79c6>=</span> j; k <span style=color:#ff79c6>&lt;=</span> <span style=color:#bd93f9>9</span>; k<span style=color:#ff79c6>++</span>)
                f[i][j] <span style=color:#ff79c6>+=</span> f[i <span style=color:#ff79c6>-</span> <span style=color:#bd93f9>1</span>][k];
}

<span style=color:#8be9fd>int</span> <span style=color:#50fa7b>Dp</span>(<span style=color:#8be9fd>int</span> n)
{
    <span style=color:#ff79c6>if</span> (n <span style=color:#ff79c6>==</span> <span style=color:#bd93f9>0</span>)
        <span style=color:#ff79c6>return</span> <span style=color:#bd93f9>1</span>;

    std<span style=color:#ff79c6>::</span>vector<span style=color:#ff79c6>&lt;</span><span style=color:#8be9fd>int</span><span style=color:#ff79c6>&gt;</span> nums;
    <span style=color:#ff79c6>while</span> (n <span style=color:#ff79c6>&gt;</span> <span style=color:#bd93f9>0</span>)
    {
        nums.push_back(n <span style=color:#ff79c6>%</span> <span style=color:#bd93f9>10</span>);
        n <span style=color:#ff79c6>/=</span> <span style=color:#bd93f9>10</span>;
    }

    <span style=color:#8be9fd>int</span> res <span style=color:#ff79c6>=</span> <span style=color:#bd93f9>0</span>, last <span style=color:#ff79c6>=</span> <span style=color:#bd93f9>0</span>;
    <span style=color:#ff79c6>for</span> (<span style=color:#8be9fd>int</span> i <span style=color:#ff79c6>=</span> nums.size() <span style=color:#ff79c6>-</span> <span style=color:#bd93f9>1</span>; i <span style=color:#ff79c6>&gt;=</span> <span style=color:#bd93f9>0</span>; i<span style=color:#ff79c6>--</span>)
    {
        <span style=color:#8be9fd>int</span> x <span style=color:#ff79c6>=</span> nums[i];
        <span style=color:#ff79c6>for</span> (<span style=color:#8be9fd>int</span> j <span style=color:#ff79c6>=</span> last; j <span style=color:#ff79c6>&lt;</span> x; j<span style=color:#ff79c6>++</span>)
            res <span style=color:#ff79c6>+=</span> f[i <span style=color:#ff79c6>+</span> <span style=color:#bd93f9>1</span>][j];

        <span style=color:#ff79c6>if</span> (x <span style=color:#ff79c6>&lt;</span> last)
            <span style=color:#ff79c6>break</span>;

        last <span style=color:#ff79c6>=</span> x;

        <span style=color:#ff79c6>if</span> (i <span style=color:#ff79c6>==</span> <span style=color:#bd93f9>0</span>)
            res<span style=color:#ff79c6>++</span>;
    }

    <span style=color:#ff79c6>return</span> res;
}

<span style=color:#8be9fd>int</span> <span style=color:#50fa7b>main</span>()
{
    Init();

    <span style=color:#8be9fd>int</span> l, r;
    <span style=color:#ff79c6>while</span> (std<span style=color:#ff79c6>::</span>cin <span style=color:#ff79c6>&gt;&gt;</span> l <span style=color:#ff79c6>&gt;&gt;</span> r)
        std<span style=color:#ff79c6>::</span>cout <span style=color:#ff79c6>&lt;&lt;</span> Dp(r) <span style=color:#ff79c6>-</span> Dp(l <span style=color:#ff79c6>-</span> <span style=color:#bd93f9>1</span>) <span style=color:#ff79c6>&lt;&lt;</span> std<span style=color:#ff79c6>::</span>endl;
    <span style=color:#ff79c6>return</span> <span style=color:#bd93f9>0</span>;
}
</code></pre></td></tr></table></div></div><h3 id=洛谷-p2657-scoi2009-windy数httpswwwluogucomcnproblemp2657><a href=https://www.luogu.com.cn/problem/P2657>洛谷-P2657-[SCOI2009] Windy数</a></h3><p>方法类似，先预处理，再按位枚举。</p><p>但本题需要注意的是：<strong>不包含前导0</strong>。这要求我们判断包含前导0的情况并进行特殊处理：</p><ol><li>在枚举过程中，第一位数不能为0；</li><li>枚举结束后，重新考虑有前导0的情况。</li></ol><div class=highlight><div style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 1
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 2
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 3
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 4
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 5
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 6
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 7
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 8
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 9
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">10
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">11
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">12
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">13
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">14
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">15
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">16
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">17
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">18
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">19
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">20
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">21
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">22
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">23
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">24
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">25
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">26
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">27
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">28
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">29
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">30
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">31
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">32
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">33
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">34
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">35
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">36
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">37
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">38
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">39
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">40
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">41
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">42
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">43
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">44
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">45
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">46
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">47
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">48
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">49
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">50
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">51
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">52
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">53
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">54
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">55
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">56
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">57
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">58
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">59
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">60
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">61
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">62
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">63
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">64
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-cpp data-lang=cpp><span style=color:#ff79c6>#include</span> <span style=color:#ff79c6>&lt;iostream&gt;</span><span style=color:#ff79c6>
</span><span style=color:#ff79c6>#include</span> <span style=color:#ff79c6>&lt;vector&gt;</span><span style=color:#ff79c6>
</span><span style=color:#ff79c6>#include</span> <span style=color:#ff79c6>&lt;cmath&gt;</span><span style=color:#ff79c6>
</span><span style=color:#ff79c6></span>
<span style=color:#ff79c6>const</span> <span style=color:#8be9fd>int</span> N <span style=color:#ff79c6>=</span> <span style=color:#bd93f9>15</span>;

<span style=color:#8be9fd>int</span> f[N][<span style=color:#bd93f9>10</span>];

<span style=color:#8be9fd>void</span> <span style=color:#50fa7b>Init</span>()
{
    <span style=color:#ff79c6>for</span> (<span style=color:#8be9fd>int</span> i <span style=color:#ff79c6>=</span> <span style=color:#bd93f9>0</span>; i <span style=color:#ff79c6>&lt;=</span> <span style=color:#bd93f9>9</span>; i<span style=color:#ff79c6>++</span>)
        f[<span style=color:#bd93f9>1</span>][i] <span style=color:#ff79c6>=</span> <span style=color:#bd93f9>1</span>;

    <span style=color:#ff79c6>for</span> (<span style=color:#8be9fd>int</span> i <span style=color:#ff79c6>=</span> <span style=color:#bd93f9>2</span>; i <span style=color:#ff79c6>&lt;</span> N; i<span style=color:#ff79c6>++</span>)
        <span style=color:#ff79c6>for</span> (<span style=color:#8be9fd>int</span> j <span style=color:#ff79c6>=</span> <span style=color:#bd93f9>0</span>; j <span style=color:#ff79c6>&lt;=</span> <span style=color:#bd93f9>9</span>; j<span style=color:#ff79c6>++</span>)
            <span style=color:#ff79c6>for</span> (<span style=color:#8be9fd>int</span> k <span style=color:#ff79c6>=</span> <span style=color:#bd93f9>0</span>; k <span style=color:#ff79c6>&lt;=</span> <span style=color:#bd93f9>9</span>; k<span style=color:#ff79c6>++</span>)
                <span style=color:#ff79c6>if</span> (abs(j <span style=color:#ff79c6>-</span> k) <span style=color:#ff79c6>&gt;=</span> <span style=color:#bd93f9>2</span>)
                    f[i][j] <span style=color:#ff79c6>+=</span> f[i <span style=color:#ff79c6>-</span> <span style=color:#bd93f9>1</span>][k];
}

<span style=color:#8be9fd>int</span> <span style=color:#50fa7b>Dp</span>(<span style=color:#8be9fd>int</span> n)
{
    <span style=color:#ff79c6>if</span> (n <span style=color:#ff79c6>==</span> <span style=color:#bd93f9>0</span>)
        <span style=color:#ff79c6>return</span> <span style=color:#bd93f9>0</span>;

    std<span style=color:#ff79c6>::</span>vector<span style=color:#ff79c6>&lt;</span><span style=color:#8be9fd>int</span><span style=color:#ff79c6>&gt;</span> nums;
    <span style=color:#ff79c6>while</span> (n <span style=color:#ff79c6>&gt;</span> <span style=color:#bd93f9>0</span>)
    {
        nums.push_back(n <span style=color:#ff79c6>%</span> <span style=color:#bd93f9>10</span>);
        n <span style=color:#ff79c6>/=</span> <span style=color:#bd93f9>10</span>;
    }

    <span style=color:#8be9fd>int</span> res <span style=color:#ff79c6>=</span> <span style=color:#bd93f9>0</span>, last <span style=color:#ff79c6>=</span> <span style=color:#ff79c6>-</span><span style=color:#bd93f9>2</span>;
    <span style=color:#ff79c6>for</span> (<span style=color:#8be9fd>int</span> i <span style=color:#ff79c6>=</span> nums.size() <span style=color:#ff79c6>-</span> <span style=color:#bd93f9>1</span>; i <span style=color:#ff79c6>&gt;=</span> <span style=color:#bd93f9>0</span>; i<span style=color:#ff79c6>--</span>)
    {
        <span style=color:#8be9fd>int</span> x <span style=color:#ff79c6>=</span> nums[i];
        <span style=color:#ff79c6>for</span> (<span style=color:#8be9fd>int</span> j <span style=color:#ff79c6>=</span> (i <span style=color:#ff79c6>==</span> nums.size() <span style=color:#ff79c6>-</span> <span style=color:#bd93f9>1</span>); j <span style=color:#ff79c6>&lt;</span> x; j<span style=color:#ff79c6>++</span>)
            <span style=color:#ff79c6>if</span> (abs(j <span style=color:#ff79c6>-</span> last) <span style=color:#ff79c6>&gt;=</span> <span style=color:#bd93f9>2</span>)
                res <span style=color:#ff79c6>+=</span> f[i <span style=color:#ff79c6>+</span> <span style=color:#bd93f9>1</span>][j];

        <span style=color:#ff79c6>if</span> (abs(x <span style=color:#ff79c6>-</span> last) <span style=color:#ff79c6>&lt;</span> <span style=color:#bd93f9>2</span>)
            <span style=color:#ff79c6>break</span>;
        last <span style=color:#ff79c6>=</span> x;

        <span style=color:#ff79c6>if</span> (i <span style=color:#ff79c6>==</span> <span style=color:#bd93f9>0</span>)
            res<span style=color:#ff79c6>++</span>;
    }

    <span style=color:#6272a4>// 有前导0
</span><span style=color:#6272a4></span>    <span style=color:#ff79c6>for</span> (<span style=color:#8be9fd>int</span> i <span style=color:#ff79c6>=</span> <span style=color:#bd93f9>1</span>; i <span style=color:#ff79c6>&lt;</span> nums.size(); i<span style=color:#ff79c6>++</span>)
        <span style=color:#ff79c6>for</span> (<span style=color:#8be9fd>int</span> j <span style=color:#ff79c6>=</span> <span style=color:#bd93f9>1</span>; j <span style=color:#ff79c6>&lt;=</span> <span style=color:#bd93f9>9</span>; j<span style=color:#ff79c6>++</span>)
            res <span style=color:#ff79c6>+=</span> f[i][j];

    <span style=color:#ff79c6>return</span> res;
}

<span style=color:#8be9fd>int</span> <span style=color:#50fa7b>main</span>()
{
    Init();
    <span style=color:#8be9fd>int</span> l, r;
    std<span style=color:#ff79c6>::</span>cin <span style=color:#ff79c6>&gt;&gt;</span> l <span style=color:#ff79c6>&gt;&gt;</span> r;
    std<span style=color:#ff79c6>::</span>cout <span style=color:#ff79c6>&lt;&lt;</span> Dp(r) <span style=color:#ff79c6>-</span> Dp(l <span style=color:#ff79c6>-</span> <span style=color:#bd93f9>1</span>) <span style=color:#ff79c6>&lt;&lt;</span> std<span style=color:#ff79c6>::</span>endl;
    <span style=color:#ff79c6>return</span> <span style=color:#bd93f9>0</span>;
}
</code></pre></td></tr></table></div></div><h3 id=libreoj-10166-数字游戏httpslojacp10166><a href=https://loj.ac/p/10166>LibreOJ-10166-数字游戏</a></h3><div class=highlight><div style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 1
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 2
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 3
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 4
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 5
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 6
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 7
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 8
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 9
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">10
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">11
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">12
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">13
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">14
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">15
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">16
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">17
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">18
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">19
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">20
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">21
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">22
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">23
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">24
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">25
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">26
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">27
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">28
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">29
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">30
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">31
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">32
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">33
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">34
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">35
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">36
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">37
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">38
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">39
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">40
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">41
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">42
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">43
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">44
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">45
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">46
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">47
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">48
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">49
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">50
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">51
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">52
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">53
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">54
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">55
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">56
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">57
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">58
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">59
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">60
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">61
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">62
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">63
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">64
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">65
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">66
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">67
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-cpp data-lang=cpp><span style=color:#ff79c6>#include</span> <span style=color:#ff79c6>&lt;iostream&gt;</span><span style=color:#ff79c6>
</span><span style=color:#ff79c6>#include</span> <span style=color:#ff79c6>&lt;cstring&gt;</span><span style=color:#ff79c6>
</span><span style=color:#ff79c6>#include</span> <span style=color:#ff79c6>&lt;vector&gt;</span><span style=color:#ff79c6>
</span><span style=color:#ff79c6></span>
<span style=color:#ff79c6>const</span> <span style=color:#8be9fd>int</span> N <span style=color:#ff79c6>=</span> <span style=color:#bd93f9>13</span>, M <span style=color:#ff79c6>=</span> <span style=color:#bd93f9>110</span>;

<span style=color:#8be9fd>int</span> MOD;
<span style=color:#8be9fd>int</span> f[N][<span style=color:#bd93f9>10</span>][M];

<span style=color:#8be9fd>int</span> <span style=color:#50fa7b>PosMod</span>(<span style=color:#8be9fd>int</span> n, <span style=color:#8be9fd>int</span> p)
{
    <span style=color:#ff79c6>return</span> (n <span style=color:#ff79c6>%</span> p <span style=color:#ff79c6>+</span> p) <span style=color:#ff79c6>%</span> p;
}

<span style=color:#8be9fd>void</span> <span style=color:#50fa7b>Init</span>()
{
    memset(f, <span style=color:#bd93f9>0</span>, <span style=color:#ff79c6>sizeof</span>(f));

    <span style=color:#ff79c6>for</span> (<span style=color:#8be9fd>int</span> i <span style=color:#ff79c6>=</span> <span style=color:#bd93f9>0</span>; i <span style=color:#ff79c6>&lt;=</span> <span style=color:#bd93f9>9</span>; i<span style=color:#ff79c6>++</span>)
        f[<span style=color:#bd93f9>1</span>][i][PosMod(i, MOD)]<span style=color:#ff79c6>++</span>;

    <span style=color:#ff79c6>for</span> (<span style=color:#8be9fd>int</span> i <span style=color:#ff79c6>=</span> <span style=color:#bd93f9>2</span>; i <span style=color:#ff79c6>&lt;</span> N; i<span style=color:#ff79c6>++</span>)
        <span style=color:#ff79c6>for</span> (<span style=color:#8be9fd>int</span> j <span style=color:#ff79c6>=</span> <span style=color:#bd93f9>0</span>; j <span style=color:#ff79c6>&lt;=</span> <span style=color:#bd93f9>9</span>; j<span style=color:#ff79c6>++</span>)
            <span style=color:#ff79c6>for</span> (<span style=color:#8be9fd>int</span> k <span style=color:#ff79c6>=</span> <span style=color:#bd93f9>0</span>; k <span style=color:#ff79c6>&lt;</span> MOD; k<span style=color:#ff79c6>++</span>)
                <span style=color:#ff79c6>for</span> (<span style=color:#8be9fd>int</span> x <span style=color:#ff79c6>=</span> <span style=color:#bd93f9>0</span>; x <span style=color:#ff79c6>&lt;=</span> <span style=color:#bd93f9>9</span>; x<span style=color:#ff79c6>++</span>)
                    f[i][j][k] <span style=color:#ff79c6>+=</span> f[i <span style=color:#ff79c6>-</span> <span style=color:#bd93f9>1</span>][x][PosMod(k <span style=color:#ff79c6>-</span> j, MOD)];
}

<span style=color:#8be9fd>int</span> <span style=color:#50fa7b>Dp</span>(<span style=color:#8be9fd>int</span> n)
{
    <span style=color:#ff79c6>if</span> (n <span style=color:#ff79c6>==</span> <span style=color:#bd93f9>0</span>)
        <span style=color:#ff79c6>return</span> <span style=color:#bd93f9>1</span>;

    std<span style=color:#ff79c6>::</span>vector<span style=color:#ff79c6>&lt;</span><span style=color:#8be9fd>int</span><span style=color:#ff79c6>&gt;</span> nums;
    <span style=color:#ff79c6>while</span> (n <span style=color:#ff79c6>&gt;</span> <span style=color:#bd93f9>0</span>)
    {
        nums.push_back(n <span style=color:#ff79c6>%</span> <span style=color:#bd93f9>10</span>);
        n <span style=color:#ff79c6>/=</span> <span style=color:#bd93f9>10</span>;
    }

    <span style=color:#8be9fd>int</span> res <span style=color:#ff79c6>=</span> <span style=color:#bd93f9>0</span>, last <span style=color:#ff79c6>=</span> <span style=color:#bd93f9>0</span>;
    <span style=color:#ff79c6>for</span> (<span style=color:#8be9fd>int</span> i <span style=color:#ff79c6>=</span> nums.size() <span style=color:#ff79c6>-</span> <span style=color:#bd93f9>1</span>; i <span style=color:#ff79c6>&gt;=</span> <span style=color:#bd93f9>0</span>; i<span style=color:#ff79c6>--</span>)
    {
        <span style=color:#8be9fd>int</span> x <span style=color:#ff79c6>=</span> nums[i];
        <span style=color:#ff79c6>for</span> (<span style=color:#8be9fd>int</span> j <span style=color:#ff79c6>=</span> <span style=color:#bd93f9>0</span>; j <span style=color:#ff79c6>&lt;</span> x; j<span style=color:#ff79c6>++</span>)
            res <span style=color:#ff79c6>+=</span> f[i <span style=color:#ff79c6>+</span> <span style=color:#bd93f9>1</span>][j][PosMod(<span style=color:#ff79c6>-</span>last, MOD)];

        last <span style=color:#ff79c6>+=</span> x;

        <span style=color:#ff79c6>if</span> (i <span style=color:#ff79c6>==</span> <span style=color:#bd93f9>0</span> <span style=color:#ff79c6>&amp;&amp;</span> last <span style=color:#ff79c6>%</span> MOD <span style=color:#ff79c6>==</span> <span style=color:#bd93f9>0</span>)
            res<span style=color:#ff79c6>++</span>;
    }

    <span style=color:#ff79c6>return</span> res;
}

<span style=color:#8be9fd>int</span> <span style=color:#50fa7b>main</span>()
{
    <span style=color:#8be9fd>int</span> l, r;
    <span style=color:#ff79c6>while</span> (std<span style=color:#ff79c6>::</span>cin <span style=color:#ff79c6>&gt;&gt;</span> l <span style=color:#ff79c6>&gt;&gt;</span> r <span style=color:#ff79c6>&gt;&gt;</span> MOD)
    {
        Init();
        std<span style=color:#ff79c6>::</span>cout <span style=color:#ff79c6>&lt;&lt;</span> Dp(r) <span style=color:#ff79c6>-</span> Dp(l <span style=color:#ff79c6>-</span> <span style=color:#bd93f9>1</span>) <span style=color:#ff79c6>&lt;&lt;</span> std<span style=color:#ff79c6>::</span>endl;
    }

    <span style=color:#ff79c6>return</span> <span style=color:#bd93f9>0</span>;
}
</code></pre></td></tr></table></div></div><h3 id=libreoj-10167-不要62httpslojacp10167><a href=https://loj.ac/p/10167>LibreOJ-10167-不要62</a></h3><div class=highlight><div style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 1
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 2
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 3
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 4
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 5
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 6
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 7
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 8
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 9
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">10
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">11
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">12
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">13
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">14
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">15
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">16
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">17
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">18
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">19
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">20
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">21
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">22
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">23
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">24
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">25
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">26
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">27
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">28
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">29
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">30
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">31
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">32
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">33
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">34
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">35
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">36
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">37
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">38
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">39
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">40
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">41
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">42
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">43
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">44
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">45
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">46
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">47
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">48
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">49
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">50
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">51
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">52
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">53
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">54
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">55
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">56
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">57
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">58
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">59
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">60
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">61
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">62
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">63
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">64
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">65
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">66
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">67
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-cpp data-lang=cpp><span style=color:#ff79c6>#include</span> <span style=color:#ff79c6>&lt;iostream&gt;</span><span style=color:#ff79c6>
</span><span style=color:#ff79c6>#include</span> <span style=color:#ff79c6>&lt;vector&gt;</span><span style=color:#ff79c6>
</span><span style=color:#ff79c6></span>
<span style=color:#ff79c6>const</span> <span style=color:#8be9fd>int</span> N <span style=color:#ff79c6>=</span> <span style=color:#bd93f9>7</span> <span style=color:#ff79c6>+</span> <span style=color:#bd93f9>2</span>;

<span style=color:#8be9fd>int</span> f[N][<span style=color:#bd93f9>10</span>];

<span style=color:#8be9fd>void</span> <span style=color:#50fa7b>Init</span>()
{
    <span style=color:#ff79c6>for</span> (<span style=color:#8be9fd>int</span> i <span style=color:#ff79c6>=</span> <span style=color:#bd93f9>0</span>; i <span style=color:#ff79c6>&lt;=</span> <span style=color:#bd93f9>9</span>; i<span style=color:#ff79c6>++</span>)
        <span style=color:#ff79c6>if</span> (i <span style=color:#ff79c6>!=</span> <span style=color:#bd93f9>4</span>)
            f[<span style=color:#bd93f9>1</span>][i] <span style=color:#ff79c6>=</span> <span style=color:#bd93f9>1</span>;

    <span style=color:#ff79c6>for</span> (<span style=color:#8be9fd>int</span> i <span style=color:#ff79c6>=</span> <span style=color:#bd93f9>2</span>; i <span style=color:#ff79c6>&lt;</span> N; i<span style=color:#ff79c6>++</span>)
        <span style=color:#ff79c6>for</span> (<span style=color:#8be9fd>int</span> j <span style=color:#ff79c6>=</span> <span style=color:#bd93f9>0</span>; j <span style=color:#ff79c6>&lt;=</span> <span style=color:#bd93f9>9</span>; j<span style=color:#ff79c6>++</span>)
            <span style=color:#ff79c6>if</span> (j <span style=color:#ff79c6>!=</span> <span style=color:#bd93f9>4</span>)
                <span style=color:#ff79c6>for</span> (<span style=color:#8be9fd>int</span> k <span style=color:#ff79c6>=</span> <span style=color:#bd93f9>0</span>; k <span style=color:#ff79c6>&lt;=</span> <span style=color:#bd93f9>9</span>; k<span style=color:#ff79c6>++</span>)
                    <span style=color:#ff79c6>if</span> (k <span style=color:#ff79c6>!=</span> <span style=color:#bd93f9>4</span> <span style=color:#ff79c6>&amp;&amp;</span> <span style=color:#ff79c6>!</span>(j <span style=color:#ff79c6>==</span> <span style=color:#bd93f9>6</span> <span style=color:#ff79c6>&amp;&amp;</span> k <span style=color:#ff79c6>==</span> <span style=color:#bd93f9>2</span>))
                        f[i][j] <span style=color:#ff79c6>+=</span> f[i <span style=color:#ff79c6>-</span> <span style=color:#bd93f9>1</span>][k];
}

<span style=color:#8be9fd>int</span> <span style=color:#50fa7b>Dp</span>(<span style=color:#8be9fd>int</span> n)
{
    <span style=color:#ff79c6>if</span> (n <span style=color:#ff79c6>==</span> <span style=color:#bd93f9>0</span>)
        <span style=color:#ff79c6>return</span> <span style=color:#bd93f9>1</span>;

    std<span style=color:#ff79c6>::</span>vector<span style=color:#ff79c6>&lt;</span><span style=color:#8be9fd>int</span><span style=color:#ff79c6>&gt;</span> nums;
    <span style=color:#ff79c6>while</span> (n <span style=color:#ff79c6>&gt;</span> <span style=color:#bd93f9>0</span>)
    {
        nums.push_back(n <span style=color:#ff79c6>%</span> <span style=color:#bd93f9>10</span>);
        n <span style=color:#ff79c6>/=</span> <span style=color:#bd93f9>10</span>;
    }

    <span style=color:#8be9fd>int</span> res <span style=color:#ff79c6>=</span> <span style=color:#bd93f9>0</span>, last <span style=color:#ff79c6>=</span> <span style=color:#bd93f9>0</span>;
    <span style=color:#ff79c6>for</span> (<span style=color:#8be9fd>int</span> i <span style=color:#ff79c6>=</span> nums.size() <span style=color:#ff79c6>-</span> <span style=color:#bd93f9>1</span>; i <span style=color:#ff79c6>&gt;=</span> <span style=color:#bd93f9>0</span>; i<span style=color:#ff79c6>--</span>)
    {
        <span style=color:#8be9fd>int</span> x <span style=color:#ff79c6>=</span> nums[i];
        <span style=color:#ff79c6>for</span> (<span style=color:#8be9fd>int</span> j <span style=color:#ff79c6>=</span> <span style=color:#bd93f9>0</span>; j <span style=color:#ff79c6>&lt;</span> x; j<span style=color:#ff79c6>++</span>)
            <span style=color:#ff79c6>if</span> (j <span style=color:#ff79c6>!=</span> <span style=color:#bd93f9>4</span> <span style=color:#ff79c6>&amp;&amp;</span> <span style=color:#ff79c6>!</span>(last <span style=color:#ff79c6>==</span> <span style=color:#bd93f9>6</span> <span style=color:#ff79c6>&amp;&amp;</span> j <span style=color:#ff79c6>==</span> <span style=color:#bd93f9>2</span>))
                res <span style=color:#ff79c6>+=</span> f[i <span style=color:#ff79c6>+</span> <span style=color:#bd93f9>1</span>][j];

        <span style=color:#ff79c6>if</span> (x <span style=color:#ff79c6>==</span> <span style=color:#bd93f9>4</span> <span style=color:#ff79c6>||</span> (last <span style=color:#ff79c6>==</span> <span style=color:#bd93f9>6</span> <span style=color:#ff79c6>&amp;&amp;</span> x <span style=color:#ff79c6>==</span> <span style=color:#bd93f9>2</span>))
            <span style=color:#ff79c6>break</span>;

        last <span style=color:#ff79c6>=</span> x;

        <span style=color:#ff79c6>if</span> (i <span style=color:#ff79c6>==</span> <span style=color:#bd93f9>0</span>)
            res<span style=color:#ff79c6>++</span>;
    }

    <span style=color:#ff79c6>return</span> res;
}

<span style=color:#8be9fd>int</span> <span style=color:#50fa7b>main</span>()
{
    Init();
    <span style=color:#8be9fd>int</span> l, r;
    <span style=color:#ff79c6>while</span> (<span style=color:#8be9fd;font-style:italic>true</span>)
    {
        std<span style=color:#ff79c6>::</span>cin <span style=color:#ff79c6>&gt;&gt;</span> l <span style=color:#ff79c6>&gt;&gt;</span> r;
        <span style=color:#ff79c6>if</span> (l <span style=color:#ff79c6>==</span> <span style=color:#bd93f9>0</span> <span style=color:#ff79c6>&amp;&amp;</span> r <span style=color:#ff79c6>==</span> <span style=color:#bd93f9>0</span>)
            <span style=color:#ff79c6>return</span> <span style=color:#bd93f9>0</span>;

        std<span style=color:#ff79c6>::</span>cout <span style=color:#ff79c6>&lt;&lt;</span> Dp(r) <span style=color:#ff79c6>-</span> Dp(l <span style=color:#ff79c6>-</span> <span style=color:#bd93f9>1</span>) <span style=color:#ff79c6>&lt;&lt;</span> std<span style=color:#ff79c6>::</span>endl;
    }
    <span style=color:#ff79c6>return</span> <span style=color:#bd93f9>0</span>;
}
</code></pre></td></tr></table></div></div><h3 id=libreoj-10168-恨7不成妻httpslojacp10168><a href=https://loj.ac/p/10168>LibreOJ-10168-恨7不成妻</a></h3><p>本题的难点在于要求所有数的平方和。这需要我们记录数的个数、和以及平方和。</p><div class=highlight><div style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">  1
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">  2
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">  3
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">  4
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">  5
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">  6
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">  7
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">  8
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">  9
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 10
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 11
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 12
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 13
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 14
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 15
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 16
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 17
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 18
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 19
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 20
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 21
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 22
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 23
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 24
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 25
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 26
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 27
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 28
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 29
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 30
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 31
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 32
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 33
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 34
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 35
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 36
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 37
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 38
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 39
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 40
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 41
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 42
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 43
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 44
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 45
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 46
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 47
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 48
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 49
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 50
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 51
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 52
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 53
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 54
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 55
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 56
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 57
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 58
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 59
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 60
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 61
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 62
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 63
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 64
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 65
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 66
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 67
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 68
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 69
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 70
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 71
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 72
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 73
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 74
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 75
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 76
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 77
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 78
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 79
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 80
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 81
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 82
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 83
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 84
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 85
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 86
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 87
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 88
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 89
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 90
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 91
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 92
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 93
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 94
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 95
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 96
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 97
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 98
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 99
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">100
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">101
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">102
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">103
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">104
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">105
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">106
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">107
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">108
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">109
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">110
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">111
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">112
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">113
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">114
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">115
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">116
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">117
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">118
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">119
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">120
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">121
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">122
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">123
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">124
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">125
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">126
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">127
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">128
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">129
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">130
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">131
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-cpp data-lang=cpp><span style=color:#ff79c6>#include</span> <span style=color:#ff79c6>&lt;iostream&gt;</span><span style=color:#ff79c6>
</span><span style=color:#ff79c6>#include</span> <span style=color:#ff79c6>&lt;vector&gt;</span><span style=color:#ff79c6>
</span><span style=color:#ff79c6></span>
<span style=color:#ff79c6>const</span> <span style=color:#8be9fd>int</span> N <span style=color:#ff79c6>=</span> <span style=color:#bd93f9>18</span> <span style=color:#ff79c6>+</span> <span style=color:#bd93f9>2</span>, MOD <span style=color:#ff79c6>=</span> <span style=color:#bd93f9>1e9</span> <span style=color:#ff79c6>+</span> <span style=color:#bd93f9>7</span>;

<span style=color:#ff79c6>struct</span> <span style=color:#50fa7b>Pack</span>
{
    <span style=color:#8be9fd>int</span> count, sum, pow;
} f[N][<span style=color:#bd93f9>10</span>][<span style=color:#bd93f9>7</span>][<span style=color:#bd93f9>7</span>];

<span style=color:#8be9fd>int</span> t7[N], tMod[N];

<span style=color:#8be9fd>int</span> <span style=color:#50fa7b>PosMod</span>(<span style=color:#8be9fd>long</span> <span style=color:#8be9fd>long</span> n, <span style=color:#8be9fd>int</span> p)
{
    <span style=color:#ff79c6>return</span> (n <span style=color:#ff79c6>%</span> p <span style=color:#ff79c6>+</span> p) <span style=color:#ff79c6>%</span> p;
}

<span style=color:#8be9fd>void</span> <span style=color:#50fa7b>Init</span>()
{
    t7[<span style=color:#bd93f9>0</span>] <span style=color:#ff79c6>=</span> tMod[<span style=color:#bd93f9>0</span>] <span style=color:#ff79c6>=</span> <span style=color:#bd93f9>1</span>;
    <span style=color:#ff79c6>for</span> (<span style=color:#8be9fd>int</span> i <span style=color:#ff79c6>=</span> <span style=color:#bd93f9>1</span>; i <span style=color:#ff79c6>&lt;</span> N; i<span style=color:#ff79c6>++</span>)
    {
        t7[i] <span style=color:#ff79c6>=</span> t7[i <span style=color:#ff79c6>-</span> <span style=color:#bd93f9>1</span>] <span style=color:#ff79c6>*</span> <span style=color:#bd93f9>10</span> <span style=color:#ff79c6>%</span> <span style=color:#bd93f9>7</span>;
        tMod[i] <span style=color:#ff79c6>=</span> (<span style=color:#8be9fd>long</span> <span style=color:#8be9fd>long</span>)tMod[i <span style=color:#ff79c6>-</span> <span style=color:#bd93f9>1</span>] <span style=color:#ff79c6>*</span> <span style=color:#bd93f9>10</span> <span style=color:#ff79c6>%</span> MOD;
    }

    <span style=color:#ff79c6>for</span> (<span style=color:#8be9fd>int</span> i <span style=color:#ff79c6>=</span> <span style=color:#bd93f9>0</span>; i <span style=color:#ff79c6>&lt;=</span> <span style=color:#bd93f9>9</span>; i<span style=color:#ff79c6>++</span>)
    {
        <span style=color:#ff79c6>if</span> (i <span style=color:#ff79c6>==</span> <span style=color:#bd93f9>7</span>)
            <span style=color:#ff79c6>continue</span>;
        Pack <span style=color:#ff79c6>&amp;</span>v <span style=color:#ff79c6>=</span> f[<span style=color:#bd93f9>1</span>][i][i <span style=color:#ff79c6>%</span> <span style=color:#bd93f9>7</span>][i <span style=color:#ff79c6>%</span> <span style=color:#bd93f9>7</span>];
        v.count<span style=color:#ff79c6>++</span>;
        v.sum <span style=color:#ff79c6>+=</span> i;
        v.pow <span style=color:#ff79c6>+=</span> i <span style=color:#ff79c6>*</span> i;
    }

    <span style=color:#ff79c6>for</span> (<span style=color:#8be9fd>int</span> i <span style=color:#ff79c6>=</span> <span style=color:#bd93f9>2</span>; i <span style=color:#ff79c6>&lt;</span> N; i<span style=color:#ff79c6>++</span>)
        <span style=color:#ff79c6>for</span> (<span style=color:#8be9fd>int</span> j <span style=color:#ff79c6>=</span> <span style=color:#bd93f9>0</span>; j <span style=color:#ff79c6>&lt;=</span> <span style=color:#bd93f9>9</span>; j<span style=color:#ff79c6>++</span>)
        {
            <span style=color:#ff79c6>if</span> (j <span style=color:#ff79c6>==</span> <span style=color:#bd93f9>7</span>)
                <span style=color:#ff79c6>continue</span>;
            <span style=color:#ff79c6>for</span> (<span style=color:#8be9fd>int</span> a <span style=color:#ff79c6>=</span> <span style=color:#bd93f9>0</span>; a <span style=color:#ff79c6>&lt;</span> <span style=color:#bd93f9>7</span>; a<span style=color:#ff79c6>++</span>)
                <span style=color:#ff79c6>for</span> (<span style=color:#8be9fd>int</span> b <span style=color:#ff79c6>=</span> <span style=color:#bd93f9>0</span>; b <span style=color:#ff79c6>&lt;</span> <span style=color:#bd93f9>7</span>; b<span style=color:#ff79c6>++</span>)
                    <span style=color:#ff79c6>for</span> (<span style=color:#8be9fd>int</span> k <span style=color:#ff79c6>=</span> <span style=color:#bd93f9>0</span>; k <span style=color:#ff79c6>&lt;=</span> <span style=color:#bd93f9>9</span>; k<span style=color:#ff79c6>++</span>)
                    {
                        <span style=color:#ff79c6>if</span> (k <span style=color:#ff79c6>==</span> <span style=color:#bd93f9>7</span>)
                            <span style=color:#ff79c6>continue</span>;
                        Pack <span style=color:#ff79c6>&amp;</span>p <span style=color:#ff79c6>=</span> f[i][j][a][b];
                        Pack <span style=color:#ff79c6>&amp;</span>l <span style=color:#ff79c6>=</span> f[i <span style=color:#ff79c6>-</span> <span style=color:#bd93f9>1</span>][k][PosMod(a <span style=color:#ff79c6>-</span> j <span style=color:#ff79c6>*</span> t7[i <span style=color:#ff79c6>-</span> <span style=color:#bd93f9>1</span>], <span style=color:#bd93f9>7</span>)][PosMod(b <span style=color:#ff79c6>-</span> j, <span style=color:#bd93f9>7</span>)];
                        p.count <span style=color:#ff79c6>=</span> (p.count <span style=color:#ff79c6>+</span> l.count) <span style=color:#ff79c6>%</span> MOD;
                        p.sum <span style=color:#ff79c6>=</span> (p.sum <span style=color:#ff79c6>+</span> (<span style=color:#8be9fd>long</span> <span style=color:#8be9fd>long</span>)j <span style=color:#ff79c6>*</span> tMod[i <span style=color:#ff79c6>-</span> <span style=color:#bd93f9>1</span>] <span style=color:#ff79c6>%</span> MOD <span style=color:#ff79c6>*</span> l.count <span style=color:#ff79c6>%</span> MOD <span style=color:#ff79c6>+</span> l.sum) <span style=color:#ff79c6>%</span> MOD;
                        p.pow <span style=color:#ff79c6>=</span> (p.pow <span style=color:#ff79c6>+</span>
                                 (<span style=color:#8be9fd>long</span> <span style=color:#8be9fd>long</span>)j <span style=color:#ff79c6>*</span> j <span style=color:#ff79c6>*</span> tMod[i <span style=color:#ff79c6>-</span> <span style=color:#bd93f9>1</span>] <span style=color:#ff79c6>%</span> MOD <span style=color:#ff79c6>*</span> tMod[i <span style=color:#ff79c6>-</span> <span style=color:#bd93f9>1</span>] <span style=color:#ff79c6>%</span> MOD <span style=color:#ff79c6>*</span> l.count <span style=color:#ff79c6>%</span> MOD <span style=color:#ff79c6>+</span>
                                 (<span style=color:#8be9fd>long</span> <span style=color:#8be9fd>long</span>)<span style=color:#bd93f9>2</span> <span style=color:#ff79c6>*</span> j <span style=color:#ff79c6>*</span> tMod[i <span style=color:#ff79c6>-</span> <span style=color:#bd93f9>1</span>] <span style=color:#ff79c6>%</span> MOD <span style=color:#ff79c6>*</span> l.sum <span style=color:#ff79c6>%</span> MOD <span style=color:#ff79c6>+</span> l.pow) <span style=color:#ff79c6>%</span> MOD;
                    }
        }
}

Pack <span style=color:#50fa7b>Match</span>(<span style=color:#8be9fd>int</span> i, <span style=color:#8be9fd>int</span> j, <span style=color:#8be9fd>int</span> notA, <span style=color:#8be9fd>int</span> notB)
{
    <span style=color:#8be9fd>int</span> count <span style=color:#ff79c6>=</span> <span style=color:#bd93f9>0</span>, sum <span style=color:#ff79c6>=</span> <span style=color:#bd93f9>0</span>, pow <span style=color:#ff79c6>=</span> <span style=color:#bd93f9>0</span>;
    <span style=color:#ff79c6>for</span> (<span style=color:#8be9fd>int</span> a <span style=color:#ff79c6>=</span> <span style=color:#bd93f9>0</span>; a <span style=color:#ff79c6>&lt;</span> <span style=color:#bd93f9>7</span>; a<span style=color:#ff79c6>++</span>)
        <span style=color:#ff79c6>for</span> (<span style=color:#8be9fd>int</span> b <span style=color:#ff79c6>=</span> <span style=color:#bd93f9>0</span>; b <span style=color:#ff79c6>&lt;</span> <span style=color:#bd93f9>7</span>; b<span style=color:#ff79c6>++</span>)
        {
            <span style=color:#ff79c6>if</span> (a <span style=color:#ff79c6>==</span> notA <span style=color:#ff79c6>||</span> b <span style=color:#ff79c6>==</span> notB)
                <span style=color:#ff79c6>continue</span>;
            Pack <span style=color:#ff79c6>&amp;</span>v <span style=color:#ff79c6>=</span> f[i][j][a][b];
            count <span style=color:#ff79c6>=</span> (count <span style=color:#ff79c6>+</span> v.count) <span style=color:#ff79c6>%</span> MOD;
            sum <span style=color:#ff79c6>=</span> (sum <span style=color:#ff79c6>+</span> v.sum) <span style=color:#ff79c6>%</span> MOD;
            pow <span style=color:#ff79c6>=</span> (pow <span style=color:#ff79c6>+</span> v.pow) <span style=color:#ff79c6>%</span> MOD;
        }
    <span style=color:#ff79c6>return</span> {count, sum, pow};
}

<span style=color:#8be9fd>long</span> <span style=color:#8be9fd>long</span> <span style=color:#50fa7b>Dp</span>(<span style=color:#8be9fd>long</span> <span style=color:#8be9fd>long</span> n)
{
    <span style=color:#ff79c6>if</span> (n <span style=color:#ff79c6>==</span> <span style=color:#bd93f9>0</span>)
        <span style=color:#ff79c6>return</span> <span style=color:#bd93f9>0</span>;

    <span style=color:#8be9fd>long</span> <span style=color:#8be9fd>long</span> backup <span style=color:#ff79c6>=</span> n <span style=color:#ff79c6>%</span> MOD;
    std<span style=color:#ff79c6>::</span>vector<span style=color:#ff79c6>&lt;</span><span style=color:#8be9fd>int</span><span style=color:#ff79c6>&gt;</span> nums;
    <span style=color:#ff79c6>while</span> (n <span style=color:#ff79c6>&gt;</span> <span style=color:#bd93f9>0</span>)
    {
        nums.push_back(n <span style=color:#ff79c6>%</span> <span style=color:#bd93f9>10</span>);
        n <span style=color:#ff79c6>/=</span> <span style=color:#bd93f9>10</span>;
    }

    <span style=color:#8be9fd>long</span> <span style=color:#8be9fd>long</span> res <span style=color:#ff79c6>=</span> <span style=color:#bd93f9>0</span>;
    <span style=color:#8be9fd>long</span> <span style=color:#8be9fd>long</span> lastA <span style=color:#ff79c6>=</span> <span style=color:#bd93f9>0</span>, lastB <span style=color:#ff79c6>=</span> <span style=color:#bd93f9>0</span>;
    <span style=color:#ff79c6>for</span> (<span style=color:#8be9fd>int</span> i <span style=color:#ff79c6>=</span> nums.size() <span style=color:#ff79c6>-</span> <span style=color:#bd93f9>1</span>; i <span style=color:#ff79c6>&gt;=</span> <span style=color:#bd93f9>0</span>; i<span style=color:#ff79c6>--</span>)
    {
        <span style=color:#8be9fd>int</span> x <span style=color:#ff79c6>=</span> nums[i];
        <span style=color:#ff79c6>for</span> (<span style=color:#8be9fd>int</span> j <span style=color:#ff79c6>=</span> <span style=color:#bd93f9>0</span>; j <span style=color:#ff79c6>&lt;</span> x; j<span style=color:#ff79c6>++</span>)
        {
            <span style=color:#ff79c6>if</span> (j <span style=color:#ff79c6>==</span> <span style=color:#bd93f9>7</span>)
                <span style=color:#ff79c6>continue</span>;
            <span style=color:#8be9fd>int</span> notA <span style=color:#ff79c6>=</span> PosMod(<span style=color:#ff79c6>-</span>lastA <span style=color:#ff79c6>%</span> <span style=color:#bd93f9>7</span> <span style=color:#ff79c6>*</span> t7[i <span style=color:#ff79c6>+</span> <span style=color:#bd93f9>1</span>], <span style=color:#bd93f9>7</span>);
            <span style=color:#8be9fd>int</span> notB <span style=color:#ff79c6>=</span> PosMod(<span style=color:#ff79c6>-</span>lastB, <span style=color:#bd93f9>7</span>);

            Pack v <span style=color:#ff79c6>=</span> Match(i <span style=color:#ff79c6>+</span> <span style=color:#bd93f9>1</span>, j, notA, notB);

            res <span style=color:#ff79c6>=</span> (res <span style=color:#ff79c6>+</span>
                   (lastA <span style=color:#ff79c6>%</span> MOD) <span style=color:#ff79c6>*</span> (lastA <span style=color:#ff79c6>%</span> MOD) <span style=color:#ff79c6>%</span> MOD <span style=color:#ff79c6>*</span> tMod[i <span style=color:#ff79c6>+</span> <span style=color:#bd93f9>1</span>] <span style=color:#ff79c6>%</span> MOD <span style=color:#ff79c6>*</span> tMod[i <span style=color:#ff79c6>+</span> <span style=color:#bd93f9>1</span>] <span style=color:#ff79c6>%</span> MOD <span style=color:#ff79c6>*</span> v.count <span style=color:#ff79c6>%</span> MOD <span style=color:#ff79c6>+</span>
                   <span style=color:#bd93f9>2</span> <span style=color:#ff79c6>*</span> (lastA <span style=color:#ff79c6>%</span> MOD) <span style=color:#ff79c6>%</span> MOD <span style=color:#ff79c6>*</span> tMod[i <span style=color:#ff79c6>+</span> <span style=color:#bd93f9>1</span>] <span style=color:#ff79c6>%</span> MOD <span style=color:#ff79c6>*</span> v.sum <span style=color:#ff79c6>%</span> MOD <span style=color:#ff79c6>+</span> v.pow) <span style=color:#ff79c6>%</span> MOD;
        }

        <span style=color:#ff79c6>if</span> (x <span style=color:#ff79c6>==</span> <span style=color:#bd93f9>7</span>)
            <span style=color:#ff79c6>break</span>;
        lastA <span style=color:#ff79c6>=</span> lastA <span style=color:#ff79c6>*</span> <span style=color:#bd93f9>10</span> <span style=color:#ff79c6>+</span> x;
        lastB <span style=color:#ff79c6>+=</span> x;

        <span style=color:#ff79c6>if</span> (i <span style=color:#ff79c6>==</span> <span style=color:#bd93f9>0</span> <span style=color:#ff79c6>&amp;&amp;</span> lastA <span style=color:#ff79c6>%</span> <span style=color:#bd93f9>7</span> <span style=color:#ff79c6>!=</span> <span style=color:#bd93f9>0</span> <span style=color:#ff79c6>&amp;&amp;</span> lastB <span style=color:#ff79c6>%</span> <span style=color:#bd93f9>7</span> <span style=color:#ff79c6>!=</span> <span style=color:#bd93f9>0</span>)
            res <span style=color:#ff79c6>=</span> (res <span style=color:#ff79c6>+</span> backup <span style=color:#ff79c6>*</span> backup) <span style=color:#ff79c6>%</span> MOD;
    }

    <span style=color:#ff79c6>return</span> res;
}

<span style=color:#8be9fd>int</span> <span style=color:#50fa7b>main</span>()
{
    Init();
    <span style=color:#8be9fd>int</span> T;
    std<span style=color:#ff79c6>::</span>cin <span style=color:#ff79c6>&gt;&gt;</span> T;
    <span style=color:#ff79c6>for</span> (<span style=color:#8be9fd>int</span> test <span style=color:#ff79c6>=</span> <span style=color:#bd93f9>1</span>; test <span style=color:#ff79c6>&lt;=</span> T; test<span style=color:#ff79c6>++</span>)
    {
        <span style=color:#8be9fd>long</span> <span style=color:#8be9fd>long</span> l, r;
        std<span style=color:#ff79c6>::</span>cin <span style=color:#ff79c6>&gt;&gt;</span> l <span style=color:#ff79c6>&gt;&gt;</span> r;
        std<span style=color:#ff79c6>::</span>cout <span style=color:#ff79c6>&lt;&lt;</span> PosMod(Dp(r) <span style=color:#ff79c6>-</span> Dp(l <span style=color:#ff79c6>-</span> <span style=color:#bd93f9>1</span>), MOD) <span style=color:#ff79c6>&lt;&lt;</span> std<span style=color:#ff79c6>::</span>endl;
    }
    <span style=color:#ff79c6>return</span> <span style=color:#bd93f9>0</span>;
}
</code></pre></td></tr></table></div></div></div><div class=post-archive><ul class=post-copyright><li><strong>原文作者：</strong><a rel=author href=https://www.pigaunt.top>PigAunt</a></li><li style=word-break:break-all><strong>原文链接：</strong><a href=https://www.pigaunt.top/post/dp/dp-on-numbers/>https://www.pigaunt.top/post/dp/dp-on-numbers/</a></li><li><strong>版权声明：</strong>本作品采用<a rel=license href>知识共享署名-非商业性使用-相同方式共享 4.0 国际许可协议</a>进行许可，非商业转载请注明出处（作者，原文链接）并按照相同协议共享，禁止商业转载。</li></ul></div><br><div class=post-archive><h2>See Also</h2><ul class=listing><li><a href=/post/dp/state-compressed-dp/>状态压缩的动态规划</a></li><li><a href=/post/dp/range-dp/>区间型动态规划</a></li><li><a href=/post/dp/lis-and-lcs-problem/>LIS和LCS</a></li><li><a href=/post/dp/number-triangle/>数字三角形</a></li><li><a href=/post/dp/dfa/>状态机</a></li></ul></div><div class="post-meta meta-tags"><ul class=clearfix><li><a href=/tags/%E5%8A%A8%E6%80%81%E8%A7%84%E5%88%92>动态规划</a></li></ul></div></article></div><footer id=footer><div>&copy; 2022 <a href=https://www.pigaunt.top>PigAunt的博客 By PigAunt</a></div><br><div><div class=github-badge><a href=https://gohugo.io/ target=_black rel=nofollow><span class=badge-subject>Powered by</span><span class="badge-value bg-blue">Hugo</span></a></div><div class=github-badge><a href=https://www.flysnow.org/ target=_black><span class=badge-subject>Design by</span><span class="badge-value bg-brightgreen">飞雪无情</span></a></div><div class=github-badge><a href=https://github.com/flysnow-org/maupassant-hugo target=_black><span class=badge-subject>Theme</span><span class="badge-value bg-yellowgreen">Maupassant</span></a></div></div></footer><script type=text/javascript>window.MathJax={tex2jax:{inlineMath:[['$','$']],processEscapes:!0}}</script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-MML-AM_CHTML" async></script><a id=rocket href=#top></a><script type=text/javascript src="/js/totop.js?v=0.0.0" async></script><script type=text/javascript src=//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js async></script><script src=/js/douban.js></script></div><div id=secondary><section class=widget><form id=search action=https://www.pigaunt.top/search/ method=get accept-charset=utf-8 target=_blank _lpchecked=1><input type=text name=q maxlength=20 placeholder=Search>
<input type=hidden name=sitesearch value=https://www.pigaunt.top>
<button type=submit class="submit icon-search"></button></form></section><section class=widget><h3 class=widget-title>最近文章</h3><ul class=widget-list><li><a href=https://www.pigaunt.top/post/math/matrix/ title=矩阵乘法及应用>矩阵乘法及应用</a></li><li><a href=https://www.pigaunt.top/post/math/seq-limit/ title=数列极限>数列极限</a></li><li><a href=https://www.pigaunt.top/post/string/z-algorithm/ title="Z 函数及其求法（扩展 KMP）">Z 函数及其求法（扩展 KMP）</a></li><li><a href=https://www.pigaunt.top/post/string/palindrome-and-manacher-algorithm/ title="回文字符串和 Manacher 算法">回文字符串和 Manacher 算法</a></li><li><a href=https://www.pigaunt.top/post/dp/tree-dp/ title=树形动态规划>树形动态规划</a></li><li><a href=https://www.pigaunt.top/post/dp/dp-on-numbers/ title=数位型动态规划>数位型动态规划</a></li><li><a href=https://www.pigaunt.top/post/dp/state-compressed-dp/ title=状态压缩的动态规划>状态压缩的动态规划</a></li><li><a href=https://www.pigaunt.top/post/data-structure/monotonous-queue/ title=单调队列>单调队列</a></li><li><a href=https://www.pigaunt.top/post/dp/lis-and-lcs-problem/ title=LIS和LCS>LIS和LCS</a></li><li><a href=https://www.pigaunt.top/post/dp/range-dp/ title=区间型动态规划>区间型动态规划</a></li></ul></section><section class=widget><h3 class=widget-title><a href=/categories/>分类</a></h3><ul class=widget-list><li><a href=https://www.pigaunt.top/categories/misc/>misc (1)</a></li><li><a href=https://www.pigaunt.top/categories/%E5%8A%A8%E6%80%81%E8%A7%84%E5%88%92/>动态规划 (10)</a></li><li><a href=https://www.pigaunt.top/categories/%E5%AD%97%E7%AC%A6%E4%B8%B2/>字符串 (2)</a></li><li><a href=https://www.pigaunt.top/categories/%E6%95%B0%E5%AD%A6/>数学 (2)</a></li><li><a href=https://www.pigaunt.top/categories/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/>数据结构 (1)</a></li></ul></section><section class=widget><h3 class=widget-title><a href=/tags/>标签</a></h3><div class=tagcloud><a href=https://www.pigaunt.top/tags/misc/>misc</a>
<a href=https://www.pigaunt.top/tags/%E5%8A%A8%E6%80%81%E8%A7%84%E5%88%92/>动态规划</a>
<a href=https://www.pigaunt.top/tags/%E5%AD%97%E7%AC%A6%E4%B8%B2/>字符串</a>
<a href=https://www.pigaunt.top/tags/%E6%95%B0%E5%AD%A6/>数学</a>
<a href=https://www.pigaunt.top/tags/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/>数据结构</a></div></section><section class=widget><h3 class=widget-title>友情链接</h3><ul class=widget-list><li><a target=_blank href=https://rusun.blog.luogu.org/ title=RuSun的博客>RuSun的博客</a></li></ul></section><section class=widget><h3 class=widget-title>其它</h3><ul class=widget-list><li><a href=https://www.pigaunt.top/index.xml>文章 RSS</a></li></ul></section></div></div></div></div></body></html>